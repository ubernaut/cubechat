(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.RaceSignal = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var RaceSignal=(()=>{var o=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var i=(e,r)=>{for(var n in r)o(e,n,{get:r[n],enumerable:!0})},s=(e,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of u(r))!f.call(e,t)&&t!==n&&o(e,t,{get:()=>r[t],enumerable:!(a=l(r,t))||a.enumerable});return e};var d=e=>s(o({},"__esModule",{value:!0}),e);var b={};i(b,{raceSignal:()=>E});function v(e){return e.reason}async function E(e,r,n){if(r==null)return e;let a=n?.translateError??v;if(r.aborted)return e.catch(()=>{}),Promise.reject(a(r));let t;try{return await Promise.race([e,new Promise((y,c)=>{t=()=>{c(a(r))},r.addEventListener("abort",t)})])}finally{t!=null&&r.removeEventListener("abort",t)}}return d(b);})();
return RaceSignal}));
//# sourceMappingURL=index.min.js.map
