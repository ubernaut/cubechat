(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.RetimeableSignal = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var RetimeableSignal=(()=>{var s=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var m=(r,e)=>{for(var t in e)s(r,t,{get:e[t],enumerable:!0})},u=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of c(e))!g.call(r,o)&&o!==t&&s(r,o,{get:()=>e[o],enumerable:!(n=d(e,o))||n.enumerable});return r};var v=r=>u(s({},"__esModule",{value:!0}),r);var h={};m(h,{retimeableSignal:()=>E});var l=class extends Error{type;code;constructor(e,t,n){super(e??"The operation was aborted"),this.type="aborted",this.name=n??"AbortError",this.code=t??"ABORT_ERR"}};function E(r,e){let t=new l(e?.errorMessage,e?.errorCode,e?.errorName),n=new AbortController,o=()=>{n.abort(t)},a=AbortSignal.timeout(r);a.addEventListener("abort",o);let i=n.signal;return i.reset=b=>{a?.removeEventListener("abort",o),a=AbortSignal.timeout(b??r),a.addEventListener("abort",()=>{n.abort(t)})},i.clear=()=>{a?.removeEventListener("abort",o),a=void 0},i}return v(h);})();
return RetimeableSignal}));
